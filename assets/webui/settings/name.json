{"title":"Feint Name","scrolling":true,"init":"$('body').addClass('textured');\n$('#subheader').text(OF.page.title);\n$('.current_info .value').text(OF.user.name);\n\n$('#change_username_form').submit(function() {\n  var newName = $('#user_name').val();\n  \n  if (newName.length) {\n    OF.api.request('/xp/users/'+ OF.user.id, {\n      method: 'PUT',\n      loader: '#submit',\n      params: {\n        user: { name: newName },\n      },\n      success: function() {\n        OF.user.name = newName;\n        OF.goBack();\n        OF.alert('Success', \"You have changed your name to: \"+ OF.user.name);\n      },\n      failure: function(data) {\n        OF.alert('Error', data.exception ? data.exception.message : 'Sorry, we had an error processing this request.  Try again in a few moments.');\n      }\n    });\n  } else {\n    OF.alert('Missing Data', 'Enter a new username in order to change your name.');\n  }\n  \n  return false;\n});\n\n$('#submit').touch(function() {\n  $('#change_username_form').submit();\n});","html":"<div id='settings'>\n<div id='header'>Settings</div>\n<div id='subheader'></div>\n<div class='current_info'>\n<div class='label'>Current Feint Name</div>\n<div class='value'></div>\n</div>\n<form id='change_username_form'>\n<div class='input_field'>\n<label>New Feint Name</label>\n<input id='user_name' name='user[name]' type='text'>\n</div>\n<div class='button' id='submit'>Okay</div>\n</form>\n\n</div>\n"}